{% extends 'home/layout.html' %}
{% load bootstrap5 %}
{% block title %}{{ card.name }}{% endblock %}
{% block content %}
    <div class="container-fluid">
        <div class="card" style="">
            <div class="row row align-items-center justify-content-center">
                <div class="col-3 ">
                    <img src="{{ card.image.url }}" alt="" class="img-fluid rounded-start">
                </div>
                <div class="col-6">
                    <div class="row">
                        <div class="card-body ">
                            <h5 class="card-title">Название: {{ card.name }}</h5>
                            <p class="card-text">Описание: {{ card.about }}</p>
                            <p class="card-text"><img src="{{ user.userprofile.picture.url }}" alt="" style="width: 50px; height: 50px"> {{ card.author }}</p>
                        </div>
                    </div>
                    <div class="row">
                        <h5 style="border-radius: 40px; background: #8D35E4; color: white; width: 200px">Комментарии:</h5>
                       <div class="col-9" style="background: #8D35E4; margin: 10px; padding: 30px">
                           {% for comment in comments %}
                               <div class="col">
                                   <div class="card mb-3" style="width: 30rem">
                                       <h5 class="card-title">
                                           <img src="{{ user.userprofile.picture.url }}" alt="" style="width: 50px; height: 50px">
                                           {{ comment.author.username }}
                                       </h5>
                                       <div class="card-body">
                                           {{ comment.text }}
                                       </div>
                                   </div>
                               </div>
                           {% endfor %}
                           <div class="col-10 align-self-center mx-auto">
                               <form method="post" style="color: white;">
                                   {% csrf_token %}
                                   {% bootstrap_label 'Добавить комментарий' %}
                                   {% bootstrap_field form.text show_label=False placeholder='Добавить комментарий' %}
                                   <button type="submit" class="btn btn-primary">
                                       Отправить комментарий
                                   </button>
                               </form>
                           </div>
                       </div>
                    </div>
                </div>
            </div>
        </div>
    </div> <br>
    <div class="container-fluid">
        <h4>Похожие карточки:</h4>
        <div class="row justify-content-center gap-5">
            {% for card in all_cards %}
                <div class="card" style="width: 18rem;">
                    <a href="{% url 'card_detail' card.slug %}">
                        <img src="{{ card.image.url }}" class="card-img-top" style="height: 330px;" alt="">
                    </a>
                </div>
            {% empty %}
                <p>Нет других карточек</p>
            {% endfor %}
        </div>
    </div>
{% endblock %}
